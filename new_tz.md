Теперь переходим к созданию chrome-extension и работе с ним.

I. Подготовка - я добавил в сущность user apikey - необходимо сделать круд (pages/panel, api/panel) для добавления пользователей, генерации apikey (он должен генерироваться по кнопке и перегенирироваться по этой же кнопке, один пользователь - один ключ).

II. Реализация mpv chrome-extension.
Расширение должно быть встроено в страницу (как абсолют или иначе, но не исчезать при при клике на страницу), используй best practices, не устанавливай дополнительных библиотек. Переработай иконки.

Расширение должно функционировать локально на vanilla js, оно будет подключаться к базе nuxt-app\prisma\schema.prisma с использованием API-ключа.

Предварительный вид расширения и алгоритм работы расширения. Открывается по кнопке и размещается на всю высоту справа. Верхнее меню состоит из сбор данных, получение данных, справа кнопка настроек.

1) Настройки - ввод API ключа и сохранение его в приложении (автозамена на звездочки).

2) Сбор данных
В этом разделе сверху блок 1: настройки сбора данных (сворачивается/разворачивается), в ней два таба (варианта) сбор новых, проверка текущих. В первом варианте в ней инпуты взыскатель, должник, список судов с палочками для выбора, переключатель все сразу - по одному, автоматический поиск включить - выключить. Шаблоны поиска. Второй таб неактивен. Пока что этот блок отображается с пометкой в разработке, функционал у него отсутсвует.

Блок 2. собрать данные, запустить и остановить автоматический поиск.
При клике "собрать данные" данные заносятся в базу данных, при этом для каждого дела имеются уникальные данные - наименование суда, должник-ответчик, входящий номер, дата поступления. Для каждой строки запрашиваются данные из базы, при необходимости обновляются, при этом меняется поле updatedAt. Пример страницы для парсинга example\Приказное производство.html. Пока ответ не получен, то крутиться кружок загрузки,после получения маленькое уведомление на 2 секунды - данные отправлено, новых - ..., обновлено - ...


Кнопки запустить и остановить автоматический поиск пока неактивны.

Данные обрабатываются локально с учетом схемы nuxt-app\prisma\schema.prisma и передаются на сервер. Ведется лог файлов - отправлены данные, получены данные. Лог за каждый день новый, ведется локально. 

3) Вкладка Получение данных
Одна кнопка "Получить данные.
К базе делается запрос, выводятся данные с createdAt сегодня, второй запрос - updatedAt сегодня. Выводится красивый список.

III. В папке nuxt-app\server\api\remote реализуй логику для обработки данных, а именно:
приходят данные по всем судам, необходимо обновить данные которые в базе.
Критерии существующей entity: incomingNumber receiptDate courtName claimantCompany debtorCompany, если эти данные совпадают, а иные данные не совпадают, то нужно при необходимости обновить сущность. если эти данные отличаются, то создать новую.
Ответ - найдено новых, обновлено.

Авторизация по API пользователя, который отправляется каждый раз.